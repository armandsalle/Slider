{"version":3,"sources":["index.js"],"names":["CreateSLider","options","value","x1","y1","x2","y2","type","mouseDown","mouseLeave","mouseUp","mouseEnter","scrollPercent","event","targetTouches","e","isAnimating","anime","getEvent","down","startX","pageX","sliderTag","offsetLeft","scrollLeft","scrollAmount","classList","add","callCallback","remove","preventDefault","x","dist","multiplicateur","map","scrollWidth","offsetWidth","toFixed","smoothAmount","style","transform","getScrollPercent","stopAnimation","cancelAnimationFrame","requestAnimationFrame","isTouchScreen","window","navigator","MaxTouchPoints","msMaxTouchPoints","containerTag","addEventListener","mousedown","mouseleave","mouseup","mousemove","noTouchEvent","overflowX","removeEventListener","container","slider","console","error","document","querySelector","parseInt","parseFloat","init"],"mappings":"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","file":"slider.js","sourceRoot":"../../src","sourcesContent":["class CreateSLider {\n  constructor(options) {\n    this.options = { ...options }\n\n    if ((!this.options.container && !this.options.slider) || !this.options) {\n      console.error(\n        `No container and slider selector bro... I can't work like that bro`\n      )\n      return\n    } else {\n      this.containerTag = document.querySelector(this.options?.container)\n      this.sliderTag = document.querySelector(this.options?.slider)\n    }\n\n    if (this.sliderTag === null) {\n      console.error(\n        'Target element does not exist on the page. ',\n        this.sliderTag\n      )\n      return\n    } else if (this.containerTag === null) {\n      console.error(\n        'Target element does not exist on the page. ',\n        this.containerTag\n      )\n      return\n    }\n\n    if (this.options?.noTouchEvent) {\n      this.options.noTouchEvent = true\n    } else {\n      this.options.noTouchEvent = false\n    }\n\n    this.multiplicateur = parseInt(this.options?.multiplicateur) || 1\n    this.smoothAmount =\n      parseFloat(this.options?.smoothAmount).toFixed(2) || 0.15\n    this.down = false\n    this.startX = 0\n    this.scrollLeft = 0\n    this.isAnimating = false\n    this.x = 0\n    this.dist = 0\n    this.scrollAmount = 0\n    this.stopAnimation = false\n\n    this.init()\n  }\n\n  map = (value, x1, y1, x2, y2) => {\n    return ((value - x1) * (y2 - x2)) / (y1 - x1) + x2\n  }\n\n  callCallback = (type, value) => {\n    switch (type) {\n      case 'mousedown':\n        if (\n          this.options?.mouseDown &&\n          typeof this.options?.mouseDown === 'function'\n        ) {\n          this.options.mouseDown()\n        }\n        break\n      case 'mouseleave':\n        if (\n          this.options?.mouseLeave &&\n          typeof this.options?.mouseLeave === 'function'\n        ) {\n          this.options.mouseLeave()\n        }\n        break\n      case 'mouseup':\n        if (\n          this.options?.mouseUp &&\n          typeof this.options?.mouseUp === 'function'\n        ) {\n          this.options.mouseUp()\n        }\n        break\n      case 'mousemove':\n        if (\n          this.options.mouseEnter &&\n          typeof this.options.mouseEnter === 'function'\n        ) {\n          this.options.mouseEnter()\n        }\n        break\n      case 'scrollpercent':\n        if (\n          this.options?.scrollPercent &&\n          typeof this.options?.scrollPercent === 'function'\n        ) {\n          this.options.scrollPercent(value)\n        }\n      default:\n        break\n    }\n  }\n\n  getEvent = (event) => {\n    return event.targetTouches ? event.targetTouches[0] : event\n  }\n\n  mousedown = (e) => {\n    if (!this.isAnimating) {\n      this.anime()\n    }\n\n    const event = this.getEvent(e)\n\n    this.down = true\n    this.startX = event.pageX - this.sliderTag.offsetLeft\n    this.scrollLeft = this.scrollAmount\n\n    this.sliderTag.classList.add('active')\n    this.callCallback('mousedown')\n  }\n\n  mouseleave = () => {\n    this.down = false\n    this.sliderTag.classList.remove('active')\n    this.callCallback('mouseleave')\n  }\n\n  mouseup = () => {\n    this.down = false\n    this.sliderTag.classList.remove('active')\n    this.callCallback('mouseup')\n  }\n\n  mousemove = (e) => {\n    this.callCallback('mousemove')\n\n    e.preventDefault()\n    const event = this.getEvent(e)\n\n    if (!this.down) return\n\n    this.x = event.pageX - this.sliderTag.offsetLeft\n    this.dist = this.scrollLeft - (this.x - this.startX) * this.multiplicateur\n  }\n\n  getScrollPercent = () => {\n    const scrollPercent = this.map(\n      this.scrollAmount,\n      0,\n      this.sliderTag.scrollWidth - this.sliderTag.offsetWidth,\n      0,\n      100\n    )\n\n    this.callCallback('scrollpercent', scrollPercent.toFixed(2))\n  }\n\n  anime = () => {\n    this.isAnimating = true\n\n    // Can't go over the slider\n    if (this.dist + this.scrollAmount <= 0) {\n      this.dist = 0\n    }\n    if (this.dist >= this.sliderTag.scrollWidth - this.sliderTag.offsetWidth) {\n      this.dist = this.sliderTag.scrollWidth - this.sliderTag.offsetWidth\n    }\n\n    // LERP functions\n    this.scrollAmount += (this.dist - this.scrollAmount) * this.smoothAmount\n\n    this.sliderTag.style.transform = `translate3D(${-this.scrollAmount.toFixed(\n      2\n    )}px, 0, 0)`\n\n    this.getScrollPercent()\n\n    if (this.stopAnimation) {\n      cancelAnimationFrame(this.anime)\n    } else {\n      requestAnimationFrame(this.anime)\n    }\n  }\n\n  init = () => {\n    this.isAnimating = false\n    this.stopAnimation = false\n\n    this.getScrollPercent()\n\n    const isTouchScreen =\n      'ontouchstart' in window ||\n      navigator.MaxTouchPoints > 0 ||\n      navigator.msMaxTouchPoints > 0\n\n    if (!isTouchScreen) {\n      this.containerTag.addEventListener('mousedown', this.mousedown)\n      this.containerTag.addEventListener('mouseleave', this.mouseleave)\n      this.containerTag.addEventListener('mouseup', this.mouseup)\n      this.containerTag.addEventListener('mousemove', this.mousemove)\n    } else if (isTouchScreen && this.options.noTouchEvent === false) {\n      this.containerTag.addEventListener('touchstart', this.mousedown)\n      this.containerTag.addEventListener('touchleave', this.mouseleave)\n      this.containerTag.addEventListener('touchend', this.mouseup)\n      this.containerTag.addEventListener('touchmove', this.mousemove)\n    } else if (isTouchScreen && this.options.noTouchEvent === true) {\n      this.containerTag.style.overflowX = 'scroll'\n    }\n  }\n\n  destroy = () => {\n    this.stopAnimation = true\n    this.containerTag.removeEventListener('mousedown', this.mousedown)\n    this.containerTag.removeEventListener('mouseleave', this.mouseleave)\n    this.containerTag.removeEventListener('mouseup', this.mouseup)\n    this.containerTag.removeEventListener('mousemove', this.mousemove)\n\n    this.containerTag.removeEventListener('touchstart', this.mousedown)\n    this.containerTag.removeEventListener('touchleave', this.mouseleave)\n    this.containerTag.removeEventListener('touchend', this.mouseup)\n    this.containerTag.removeEventListener('touchmove', this.mousemove)\n  }\n}\n\nexport default CreateSLider\n"]}